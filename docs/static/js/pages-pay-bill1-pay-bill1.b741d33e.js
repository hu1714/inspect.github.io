(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-pay-bill1-pay-bill1"],{"13e8":function(t,e,n){"use strict";n.r(e);var i=n("7c75"),d=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=d.a},"151d":function(t,e,n){"use strict";var i=n("f52b"),d=n.n(i);d.a},1635:function(t,e,n){var i=n("24fb");e=i(!1),e.push([t.i,"uni-page-body[data-v-0dd9d8cd]{background:#f5f5f5}.top-hader[data-v-0dd9d8cd]{display:flex;align-items:center;margin-top:%?36?%;padding-left:%?32?%}.top-hader uni-image[data-v-0dd9d8cd]{width:%?136?%;height:%?136?%;border-radius:%?12?%}.top-hader .title[data-v-0dd9d8cd]{margin-left:%?32?%;font-size:%?36?%;font-weight:700;color:#333}.pay-box[data-v-0dd9d8cd]{width:%?686?%;height:%?227?%;background:#fff;border-radius:%?14?%;margin:%?80?% auto 0;padding:%?42?% %?30?% 0 %?44?%}.pay-box .b-top[data-v-0dd9d8cd]{display:flex;justify-content:space-between}.pay-box .b-top .t-left[data-v-0dd9d8cd]{font-size:%?28?%;font-weight:700;color:#222}.pay-box .b-top .t-right[data-v-0dd9d8cd]{font-size:%?24?%;color:#999}.pay-box .b-input[data-v-0dd9d8cd]{display:flex;align-items:center;margin-top:%?60?%}.pay-box .b-input .sym[data-v-0dd9d8cd]{margin-right:%?30?%;font-size:%?40?%;font-weight:700}.pay-box .b-input uni-input[data-v-0dd9d8cd]{font-size:%?36?%;font-weight:500;color:#000}.tip[data-v-0dd9d8cd]{margin:%?30?% 0 0 %?76?%;color:#666;font-size:%?30?%}.header[data-v-0dd9d8cd]{width:100%;height:%?210?%;display:flex;align-items:center;background-color:#f9f8f8;padding:0 %?24?%}.header uni-image[data-v-0dd9d8cd]{width:%?116?%;height:%?116?%;margin-right:%?26?%}.header .h-right .r-list1[data-v-0dd9d8cd]{font-size:%?36?%;color:#333;font-weight:700}.header .h-right .r-list2[data-v-0dd9d8cd]{margin-top:%?20?%;color:#f13d13;font-size:%?26?%}.content[data-v-0dd9d8cd]{padding:%?22?%;width:%?702?%;background:#fff;opacity:1;border-radius:%?20?%;margin:0 auto}.content .c-title[data-v-0dd9d8cd]{display:flex;justify-content:space-between}.content .c-title .title[data-v-0dd9d8cd]{color:#333;font-weight:700;font-size:%?34?%}.content .c-title .right-msg[data-v-0dd9d8cd]{display:flex;align-items:center}.content .c-title .right-msg uni-image[data-v-0dd9d8cd]{width:%?28?%;height:%?28?%;margin-right:%?12?%}.content .c-title .right-msg uni-text[data-v-0dd9d8cd]{color:#888;font-size:%?28?%}.content .input[data-v-0dd9d8cd]{display:flex;align-items:center;width:100%;height:%?160?%;border-bottom:1px solid #f1f1f1}.content .input .sym[data-v-0dd9d8cd]{margin-top:%?20?%;padding:0 %?30?% 0 %?10?%;font-size:%?34?%;font-weight:700}.content .input uni-input[data-v-0dd9d8cd]{width:100%;height:%?80?%;color:#000;font-size:%?60?%}.content .c-list1[data-v-0dd9d8cd]{display:flex;align-items:center;justify-content:space-between;margin-top:%?30?%}.content .c-list1 .list1-left[data-v-0dd9d8cd]{color:#444}.content .c-list1 .list1-left uni-text[data-v-0dd9d8cd]{color:#f13d13;font-size:%?30?%;font-weight:700;margin-left:%?6?%}.content .c-list1 .list1-right[data-v-0dd9d8cd]{display:flex;align-items:center}.content .c-list1 .list1-right uni-image[data-v-0dd9d8cd]{width:%?28?%;height:%?28?%;margin-right:%?10?%}.content .c-list1 .list1-right uni-text[data-v-0dd9d8cd]{color:#fec338;font-size:%?26?%}.content .c-content[data-v-0dd9d8cd]{width:100%;padding:%?18?%;line-height:%?40?%;color:#777;background-color:#f9f8f8;border-radius:%?10?%;margin-top:%?30?%;letter-spacing:%?2?%}.content .c-list2[data-v-0dd9d8cd]{display:flex;align-items:center;justify-content:flex-end;font-size:%?32?%;color:#444;margin:%?78?% 0 %?20?% 0}.content .c-list2 .list2-left[data-v-0dd9d8cd]{font-size:%?26?%}.content .c-list2 .list2-right[data-v-0dd9d8cd]{display:flex;align-items:center;justify-content:flex-end}.content .c-list2 .list2-right uni-text[data-v-0dd9d8cd]{font-weight:700;font-size:%?30?%;margin-left:%?6?%}.content .c-list2 .list2-right uni-input[data-v-0dd9d8cd]{width:%?140?%;height:%?60?%;background:#fff;border:1px solid #ddd;border-radius:%?8?%;text-align:center;margin-left:%?12?%}.btn[data-v-0dd9d8cd]{margin-top:%?88?%;font-weight:700;letter-spacing:%?2?%}.f-btn[data-v-0dd9d8cd]{position:absolute;left:0;right:0;margin:auto;bottom:%?90?%;width:%?130?%;height:%?50?%;font-size:%?28?%;padding:0}.f-btn .feedback[data-v-0dd9d8cd]{width:100%;height:100%;text-decoration:underline}.demo-popup .s-popup-wrapper[data-v-0dd9d8cd]{border-radius:%?20?% %?20?% 0 0;overflow:hidden}.demo-popup .conent[data-v-0dd9d8cd]{height:%?812?%;background-color:#fff}.demo-popup .conent .head[data-v-0dd9d8cd]{position:relative;font-size:%?36?%;font-weight:700;border-radius:%?20?% %?20?% 0 0;padding:%?30?% 0;text-align:center;height:%?50?%;line-height:%?50?%}.demo-popup .conent uni-image[data-v-0dd9d8cd]{width:%?30?%;height:%?30?%;position:absolute;top:%?40?%;right:%?35?%}.demo-popup .conent .tf[data-v-0dd9d8cd]{position:relative;margin:%?80?% %?24?% %?20?%;background-color:#f9f8f8;font-size:%?28?%;border-radius:%?10?%;height:%?260?%}.demo-popup .conent .txt[data-v-0dd9d8cd]{padding:%?22?% %?29?%}.demo-popup .conent .numbers[data-v-0dd9d8cd]{position:absolute;bottom:%?20?%;right:%?35?%;color:#999}.demo-popup .conent .end[data-v-0dd9d8cd]{margin:%?113?% auto}.demo-popup .conent .end .okbtn[data-v-0dd9d8cd]{width:%?600?%;border-radius:%?44?%;background-color:#12b770;color:#fff;font-weight:700;font-size:%?34?%}body.?%PAGE?%[data-v-0dd9d8cd]{background:#f5f5f5}",""]),t.exports=e},"4e8b":function(t,e,n){"use strict";n.r(e);var i=n("6094"),d=n("13e8");for(var a in d)"default"!==a&&function(t){n.d(e,t,(function(){return d[t]}))}(a);n("151d");var o,c=n("f0c5"),r=Object(c["a"])(d["default"],i["b"],i["c"],!1,null,"0dd9d8cd",null,!1,i["a"],o);e["default"]=r.exports},6094:function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{staticClass:"top-hader"},[n("v-uni-image",{attrs:{src:t.marketInfo.mainPicUrl,mode:"aspectFill"}}),n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.marketInfo.name))])],1),n("v-uni-view",{staticClass:"pay-box"},[n("v-uni-view",{staticClass:"b-top"},[n("v-uni-view",{staticClass:"t-left"},[t._v("支付金额")]),n("v-uni-view",{staticClass:"t-right",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.addMsg.apply(void 0,arguments)}}},[t._v("添加备注")])],1),n("v-uni-view",{staticClass:"b-input"},[n("v-uni-view",{staticClass:"sym"},[t._v("￥")]),n("v-uni-input",{attrs:{type:"digit",placeholder:"请输入消费金额","placeholder-style":"color:#A8A8A8",disabled:!0},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}})],1)],1),t.price?n("v-uni-button",{staticClass:"btn",staticStyle:{"background-color":"#12B770",color:"#FFFFFF"},attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmPay.apply(void 0,arguments)}}},[t._v("确认付款")]):n("v-uni-button",{staticClass:"btn",staticStyle:{"background-color":"#C3C3C3",color:"#FFFFFF"},attrs:{type:"default"}},[t._v("确认付款")]),n("s-popup",{staticClass:"pop",attrs:{"custom-class":"demo-popup",position:"bottom"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[n("v-uni-view",{staticClass:"conent"},[n("v-uni-view",{staticClass:"head"},[t._v("添加备注"),n("v-uni-image",{attrs:{src:"/static/images/index/close.png",mode:""},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closePopup.apply(void 0,arguments)}}})],1),n("v-uni-view",{staticClass:"tf"},[n("v-uni-textarea",{staticClass:"txt",attrs:{"placeholder-style":"color:#999999",maxlength:"30",placeholder:"请写下你的备注信息~"},model:{value:t.content,callback:function(e){t.content="string"===typeof e?e.trim():e},expression:"content"}}),n("v-uni-view",{staticClass:"numbers"},[t._v(t._s((t.content.length>30?"30":t.content.length)+" / 30"))])],1),n("v-uni-view",{staticClass:"end"},[n("v-uni-button",{staticClass:"okbtn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("确认")])],1)],1)],1)],1)},a=[]},"7c75":function(t,e,n){"use strict";var i=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var d=i(n("1da1")),a=i(n("b047")),o=i(n("6f74")),c={components:{sPopup:a.default},data:function(){return{visible:!1,content:"",memberInfo:"",marketInfo:"",price:"",price1:"",coupon:0,isCoupon:!1,isPrice:!0}},methods:{closePopup:function(){this.visible=!1},addMsg:function(){this.visible=!0},submit:function(){this.visible=!1},marketMemberInfo:function(){var t=this;return(0,d.default)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.marketMemberInfo();case 2:n=e.sent,console.log(n),t.memberInfo=n.data.memberInfo;case 5:case"end":return e.stop()}}),e)})))()},getDetail:function(){var t=this;return(0,d.default)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.getMarketGoods({marketId:t.id});case 2:n=e.sent,t.marketInfo=n.data.marketInfo;case 4:case"end":return e.stop()}}),e)})))()},confirmPay:function(){var t=this;return(0,d.default)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.wxBusinessPay({marketSn:t.marketInfo.sn,retailTotalPrice:1*t.price+1*t.coupon,couponPrice:t.coupon,message:t.content,marketType:t.marketInfo.marketType,payGoods:uni.getStorageSync("selectItem"),regionId:t.marketInfo.regionId,province:t.province,city:t.city,area:t.area,town:t.town,address:t.province+t.city+t.area+t.town+t.address,mobile:t.mobile,consignee:t.consignee});case 2:n=e.sent,console.log(n),o.default.config({debug:!1,appId:n.data.appid,timestamp:n.data.timeStamp,nonceStr:n.data.noncestr,jsApiList:["chooseWXPay"]}),o.default.chooseWXPay({timestamp:n.data.timeStamp,nonceStr:n.data.noncestr,package:"prepay_id=".concat(n.data.prepayid),signType:n.data.signType,paySign:n.data.sign,success:function(){var e=(0,d.default)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:"chooseWXPay:ok"===n.errMsg?(t.$t("支付成功","success"),setTimeout((function(){uni.reLaunch({url:"../index/index"})}),1e3)):"chooseWXPay:cancel"===n.errMsg&&t.$t("取消支付","success");case 1:case"end":return e.stop()}}),e)})));function n(t){return e.apply(this,arguments)}return n}(),cancel:function(e){t.$t("取消了支付","success")},fail:function(t){this.$t("支付失败","success")}});case 6:case"end":return e.stop()}}),e)})))()}},onLoad:function(t){this.id=t.id,this.sn=t.sn,this.price=(1*t.totalPrice).toFixed(2),this.province=uni.getStorageSync("offlineAddress").province,this.city=uni.getStorageSync("offlineAddress").city,this.area=uni.getStorageSync("offlineAddress").area,this.town=uni.getStorageSync("offlineAddress").town,this.address=uni.getStorageSync("offlineAddress").address,this.mobile=uni.getStorageSync("offlineAddress").mobile,this.consignee=uni.getStorageSync("offlineAddress").consignee,this.getDetail(),this.marketMemberInfo()}};e.default=c},f52b:function(t,e,n){var i=n("1635");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var d=n("4f06").default;d("4b934f54",i,!0,{sourceMap:!1,shadowMode:!1})}}]);