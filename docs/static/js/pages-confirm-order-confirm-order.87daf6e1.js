(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-confirm-order-confirm-order"],{"105e":function(t,e,i){"use strict";var r=i("4ea4");i("13d5"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(i("5530"));i("96cf");var a=r(i("1da1")),s=i("26cb"),d={data:function(){return{pageShow:!1,addressInfo:{},cartList:[],totalPrice:0,totalNum:0,id:"",sn:"",marketInfo:"",couponRatio:"",deductionRatio:""}},methods:{toAddress:function(){uni.navigateTo({url:"/pages/shipping-address/shipping-address?id=1"})},getDefaultShippingAddress:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.defaultShippingAddress();case 2:i=e.sent,null==i.data?(t.addressInfo=0,uni.hideLoading()):(i.data||t.shopAddress)&&(t.addressInfo=i.data),console.log(i,"默认地址"),t.pageShow=!0,uni.hideLoading();case 7:case"end":return e.stop()}}),e)})))()},calcu:function(){this.totalPrice=this.cartList.reduce((function(t,e){return t+e.retailPrice*e.number}),0),this.totalNum=this.cartList.reduce((function(t,e){return t+e.number}),0),this.couponRatio=this.cartList.reduce((function(t,e){return t+e.retailPrice*e.couponRatio*1e3/1e5}),0),this.deductionRatio=this.cartList.reduce((function(t,e){return t+e.retailPrice*e.deductionRatio*1e3/1e5}),0),console.log(this.couponRatio,this.deductionRatio)},navTo:function(){if("0"!=this.addressInfo.townName&&this.addressInfo||this.shopAddress){var t={province:this.shopAddress?this.shopAddress.provinceName:this.addressInfo.provinceName,city:this.shopAddress?this.shopAddress.cityName:this.addressInfo.cityName,area:this.shopAddress?this.shopAddress.areaName:this.addressInfo.areaName,town:this.shopAddress?this.shopAddress.townName:this.addressInfo.townName,address:this.shopAddress?this.shopAddress.detail:this.addressInfo.detail,mobile:this.shopAddress?this.shopAddress.mobile:this.addressInfo.mobile,consignee:this.shopAddress?this.shopAddress.name:this.addressInfo.name};uni.setStorageSync("offlineAddress",t),uni.redirectTo({url:"/pages/pay-bill1/pay-bill1?id="+this.id+"&sn="+this.sn+"&totalPrice="+this.totalPrice})}else this.$t("请先添加收货地址")},getDetail:function(){var t=this;return(0,a.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.getMarketGoods({marketId:t.id});case 2:i=e.sent,t.marketInfo=i.data.marketInfo;case 4:case"end":return e.stop()}}),e)})))()}},computed:(0,o.default)({},(0,s.mapState)(["shopAddress"])),onShow:function(){this.cartList=uni.getStorageSync("selectItem2"),console.log(this.cartList,"cartList"),uni.showLoading({title:"加载中...",mask:!0}),this.getDefaultShippingAddress(),this.calcu(),this.getDetail()},onLoad:function(t){this.id=t.id,this.sn=t.sn},onUnload:function(){this.$store.commit("removeAddress")}};e.default=d},"435c":function(t,e,i){"use strict";var r;i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return r}));var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"comfirm-order"},[t.pageShow?["0"!=t.addressInfo.townName&&t.addressInfo||t.shopAddress?i("v-uni-view",{staticClass:"order-header",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAddress()}}},[i("v-uni-view",{staticClass:"header-list"},[i("v-uni-view",{staticClass:"text1"},[t._v(t._s(t.shopAddress?t.shopAddress.provinceName:t.addressInfo.provinceName)+"  "+t._s(t.shopAddress?t.shopAddress.cityName:t.addressInfo.cityName)+"  "+t._s(t.shopAddress?t.shopAddress.areaName:t.addressInfo.areaName)+"  "+t._s(t.shopAddress?t.shopAddress.townName:t.addressInfo.townName))])],1),i("v-uni-view",{staticClass:"header-list"},[i("v-uni-view",{staticClass:"text3"},[t._v(t._s(t.shopAddress?t.shopAddress.detail:t.addressInfo.detail))]),i("v-uni-image",{attrs:{src:"/static/images/index/right-1.png",mode:""}})],1),i("v-uni-view",{staticClass:"header-list"},[i("v-uni-text",{staticClass:"text1"},[t._v(t._s(t.shopAddress?t.shopAddress.name:t.addressInfo.name)+" "+t._s(t.shopAddress?t.shopAddress.mobile:t.addressInfo.mobile))])],1)],1):i("v-uni-view",{staticClass:"order-headers",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toAddress()}}},[i("v-uni-view",{staticClass:"header-list1"},[i("v-uni-text",[t._v("选择收货地址")]),i("v-uni-image",{attrs:{src:"/static/images/index/right-1.png",mode:""}})],1)],1),i("v-uni-view",{staticClass:"order-detail"},[i("v-uni-view",{staticClass:"top",staticStyle:{"padding-bottom":"2rpx"}},[t._l(t.cartList,(function(e,r){return[i("v-uni-view",{key:r+"_0",staticClass:"detail-top"},[i("v-uni-image",{attrs:{src:e.picUrl,mode:"aspectFill"}}),i("v-uni-view",{staticClass:"t-right"},[i("v-uni-view",{staticClass:"r-list1"},[t._v(t._s(e.goodsName))]),i("v-uni-view",{staticClass:"r-list2"},[i("v-uni-view",{staticClass:"price"},[i("v-uni-text",{staticClass:"price-u"},[t._v("￥")]),i("v-uni-text",{staticClass:"price-n"},[t._v(t._s(e.retailPrice.toFixed(2)))])],1),i("v-uni-view",{staticClass:"number"},[t._v("x"+t._s(e.number))])],1)],1)],1)]}))],2),i("v-uni-view",{staticClass:"bottom"},[i("v-uni-text",{staticClass:"b-text1"},[t._v("共"+t._s(t.totalNum)+"件 小计：")]),i("v-uni-text",{staticClass:"b-text2"},[t._v("￥"+t._s(t.totalPrice.toFixed(2)))])],1)],1),i("v-uni-view",{staticClass:"pay-list"},[i("v-uni-view",{staticClass:"l-item"},[i("v-uni-text",[t._v("付款方式")]),i("v-uni-text",[t._v("现金")])],1),i("v-uni-view",{staticClass:"l-item"},[i("v-uni-text",[t._v("商品金额")]),i("v-uni-text",[t._v("￥"+t._s(t.totalPrice.toFixed(2)))])],1)],1),t.deductionRatio||t.couponRatio?i("v-uni-view",{staticClass:"coupon"},[i("v-uni-view",{staticClass:"c-title"},[i("v-uni-image",{attrs:{src:"/static/images/index/return.png",mode:""}}),i("v-uni-text",{staticClass:"t-text1"},[t._v("购买福利")]),i("v-uni-text",{staticClass:"t-text2"},[t._v("订单确认收货后可得")])],1),i("v-uni-view",{staticClass:"c-content"},[t.deductionRatio?i("v-uni-view",{staticClass:"c-list"},[i("v-uni-text",{staticClass:"l-text1"},[t._v("抵扣券")]),i("v-uni-text",{staticClass:"l-text2"},[t._v("+"+t._s(t.deductionRatio.toFixed(2)))])],1):t._e(),t.couponRatio?i("v-uni-view",{staticClass:"c-list"},[i("v-uni-text",{staticClass:"l-text1"},[t._v("代金券")]),i("v-uni-text",{staticClass:"l-text2"},[t._v("+"+t._s(t.couponRatio.toFixed(2)))])],1):t._e()],1)],1):t._e(),i("v-uni-view",{staticStyle:{height:"108rpx"}}),i("v-uni-view",{staticStyle:{width:"100%",height:"108rpx"}}),i("v-uni-view",{staticClass:"tui-footer"},[i("v-uni-view",{staticClass:"flex-column"},[i("v-uni-view",{staticClass:"left-p"},[i("v-uni-text",[t._v("合计：")]),i("v-uni-text",{staticClass:"unit"},[t._v("￥")]),i("v-uni-text",{staticClass:"price"},[t._v(t._s(t.totalPrice.toFixed(2)))])],1)],1),i("v-uni-button",{staticClass:"btn",attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.navTo()}}},[t._v("提交订单")])],1)]:t._e()],2)},a=[]},"65c3":function(t,e,i){"use strict";i.r(e);var r=i("435c"),o=i("f395");for(var a in o)"default"!==a&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("beb9");var s,d=i("f0c5"),n=Object(d["a"])(o["default"],r["b"],r["c"],!1,null,"97bf90b6",null,!1,r["a"],s);e["default"]=n.exports},ae33:function(t,e,i){var r=i("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\n/* 引入uview-ui */\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-97bf90b6]{background-color:#f5f5f5}.comfirm-order .order-headers[data-v-97bf90b6]{padding:0 %?30?%;background-color:#fff}.comfirm-order .order-headers .header-list1[data-v-97bf90b6]{height:%?112?%;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #eeedef}.comfirm-order .order-headers .header-list1 uni-text[data-v-97bf90b6]{color:#404040;font-size:%?34?%}.comfirm-order .order-headers .header-list1 uni-image[data-v-97bf90b6]{width:%?16?%;height:%?26?%}.comfirm-order .order-headers .header-list2[data-v-97bf90b6]{height:%?86?%;line-height:%?86?%;color:#888;font-size:%?30?%}.comfirm-order .order-header[data-v-97bf90b6]{min-height:%?200?%;padding:%?30?% %?30?% %?10?%;background-color:#fff}.comfirm-order .order-header .header-list[data-v-97bf90b6]{display:flex;align-items:center;justify-content:space-between;margin-bottom:%?30?%}.comfirm-order .order-header .header-list .text1[data-v-97bf90b6]{color:#333;font-size:%?30?%}.comfirm-order .order-header .header-list .text2[data-v-97bf90b6]{color:#888;margin-left:%?36?%}.comfirm-order .order-header .header-list .text3[data-v-97bf90b6]{color:#333;font-size:%?36?%;font-weight:600;width:%?524?%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.comfirm-order .order-header .header-list .text4[data-v-97bf90b6]{color:#f5af00;font-size:%?32?%}.comfirm-order .order-header .header-list uni-image[data-v-97bf90b6]{width:%?16?%;height:%?26?%}.comfirm-order .order-header .header-list2[data-v-97bf90b6]{display:flex;align-items:center;height:%?86?%;color:#888;font-size:%?30?%;border-top:1px solid #eeedef}.comfirm-order .order-detail[data-v-97bf90b6]{width:100%;min-height:%?278?%;margin-top:%?24?%;background-color:#fff;padding:%?26?% %?30?% %?32?%}.comfirm-order .order-detail .detail-top[data-v-97bf90b6]{display:flex;margin-bottom:%?28?%}.comfirm-order .order-detail .detail-top uni-image[data-v-97bf90b6]{width:%?220?%;height:%?220?%;border-radius:%?10?%}.comfirm-order .order-detail .detail-top .t-right[data-v-97bf90b6]{flex:1;margin-left:%?36?%}.comfirm-order .order-detail .detail-top .t-right .r-list1[data-v-97bf90b6]{font-size:%?32?%;color:#3d3b38;font-weight:700;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;margin-top:%?20?%;line-height:%?36?%}.comfirm-order .order-detail .detail-top .t-right .r-list2[data-v-97bf90b6]{display:flex;justify-content:space-between;align-items:center;margin-top:%?46?%}.comfirm-order .order-detail .detail-top .t-right .r-list2 .price[data-v-97bf90b6]{color:#f13d13}.comfirm-order .order-detail .detail-top .t-right .r-list2 .price .price-u[data-v-97bf90b6]{font-size:%?18?%}.comfirm-order .order-detail .detail-top .t-right .r-list2 .price .price-n[data-v-97bf90b6]{font-size:%?28?%;font-weight:700}.comfirm-order .order-detail .detail-top .t-right .r-list2 .number[data-v-97bf90b6]{color:#b4b4b4;font-size:%?28?%}.comfirm-order .order-detail .detail-top .t-right .r-list3[data-v-97bf90b6]{display:flex;justify-content:flex-end;align-items:center;margin-top:%?50?%}.comfirm-order .order-detail .detail-top .t-right .r-list3 .l-text1[data-v-97bf90b6]{color:#b4b4b4;font-size:%?24?%}.comfirm-order .order-detail .detail-top .t-right .r-list3 .price-u[data-v-97bf90b6]{font-size:%?18?%;color:#f13d13}.comfirm-order .order-detail .detail-top .t-right .r-list3 .price-n[data-v-97bf90b6]{font-size:%?28?%;font-weight:700;color:#f13d13}.comfirm-order .order-detail .bottom[data-v-97bf90b6]{display:flex;justify-content:flex-end;align-items:center}.comfirm-order .order-detail .bottom .b-text1[data-v-97bf90b6]{font-size:%?26?%;font-weight:500;color:#b4b4b4}.comfirm-order .order-detail .bottom .b-text2[data-v-97bf90b6]{font-size:%?30?%;font-weight:700;color:#f13d13}.comfirm-order .pay-list[data-v-97bf90b6]{margin-top:%?24?%}.comfirm-order .pay-list .l-item[data-v-97bf90b6]{display:flex;align-items:center;justify-content:space-between;width:100%;height:%?100?%;padding:0 %?24?%;background-color:#fff;font-size:%?32?%;color:#333;border-bottom:1px solid #f1f1f1}.comfirm-order .coupon[data-v-97bf90b6]{width:%?750?%;height:%?270?%;background:#fff;margin-top:%?24?%;padding:0 %?24?%}.comfirm-order .coupon .c-title[data-v-97bf90b6]{display:flex;align-items:center;height:%?92?%}.comfirm-order .coupon .c-title uni-image[data-v-97bf90b6]{width:%?30?%;height:%?30?%}.comfirm-order .coupon .c-title .t-text1[data-v-97bf90b6]{font-size:%?32?%;font-weight:700;color:#333;margin-left:%?10?%}.comfirm-order .coupon .c-title .t-text2[data-v-97bf90b6]{font-size:%?24?%;font-weight:500;color:#999;margin-left:%?24?%}.comfirm-order .coupon .c-content[data-v-97bf90b6]{width:%?702?%;height:%?145?%;border:%?1?% solid #fffedc;background:linear-gradient(90deg,#fef0a8,#fcf5de);margin:0 auto;border-radius:%?10?%;padding:0 %?36?% 0 %?30?%}.comfirm-order .coupon .c-content .c-list[data-v-97bf90b6]{display:flex;justify-content:space-between;align-items:center;margin-top:%?30?%;font-weight:500;color:#c78d20}.comfirm-order .coupon .c-content .c-list .l-text1[data-v-97bf90b6]{font-size:%?24?%}.comfirm-order .coupon .c-content .c-list .l-text2[data-v-97bf90b6]{font-size:%?32?%}.comfirm-order .pay-methods[data-v-97bf90b6]{display:flex;align-items:center;justify-content:space-between;width:100%;height:%?100?%;padding:0 %?24?%;background-color:#fff;font-size:%?32?%;color:#333;border-bottom:1px solid #f1f1f1}.comfirm-order .pay-methods .pay-right[data-v-97bf90b6]{display:flex;align-items:center;width:%?500?%;justify-content:flex-end}.comfirm-order .pay-methods .pay-right uni-image[data-v-97bf90b6]{width:%?12?%;height:%?20?%}.comfirm-order .tui-footer[data-v-97bf90b6]{position:fixed;bottom:0;width:%?750?%;height:%?108?%;z-index:99999;background-color:#fff;display:flex;justify-content:flex-end;align-items:center;margin-top:%?14?%;padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom);box-sizing:initial!important}.comfirm-order .tui-footer .tip[data-v-97bf90b6]{position:absolute;top:%?-70?%;width:100%;height:%?70?%;line-height:%?70?%;padding-left:%?24?%;background-color:#fff4b2;font-size:%?32?%;color:#333;z-index:100}.comfirm-order .tui-footer .left-p[data-v-97bf90b6]{display:flex;align-items:center;justify-content:flex-end;color:#707070;margin-left:%?32?%;font-size:%?24?%;margin-top:%?10?%}.comfirm-order .tui-footer .left-p .unit[data-v-97bf90b6]{font-size:%?28?%;color:#f13d13}.comfirm-order .tui-footer .left-p .price[data-v-97bf90b6]{font-weight:700;font-size:%?36?%;color:#f13d13}.comfirm-order .tui-footer .btn[data-v-97bf90b6]{display:flex;align-items:center;justify-content:center;width:%?202?%;height:%?80?%;background:#12b770;border-radius:%?40?%;font-size:%?34?%;color:#fff;margin-right:%?40?%;opacity:1;margin-left:%?20?%}body.?%PAGE?%[data-v-97bf90b6]{background-color:#f5f5f5}',""]),t.exports=e},beb9:function(t,e,i){"use strict";var r=i("f121"),o=i.n(r);o.a},f121:function(t,e,i){var r=i("ae33");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=i("4f06").default;o("2def36f0",r,!0,{sourceMap:!1,shadowMode:!1})},f395:function(t,e,i){"use strict";i.r(e);var r=i("105e"),o=i.n(r);for(var a in r)"default"!==a&&function(t){i.d(e,t,(function(){return r[t]}))}(a);e["default"]=o.a}}]);