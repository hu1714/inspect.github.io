(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-modify-address-modify-address"],{"07a6":function(t,e,i){"use strict";var a=i("4ea4");i("d81d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("96cf");var n=a(i("1da1")),s=["","",""],r={data:function(){return{value:[0,0,0],array:[],array1:[],index:0,allAddress:{}}},created:function(){},methods:{getArea:function(){var t=this;return(0,n.default)(regeneratorRuntime.mark((function e(){var i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return uni.showLoading({title:"加载中..."}),i=uni.getStorageSync("provinceId"),e.next=4,t.$http.mldRegionList({id:i});case 4:a=e.sent,t.allAddress=a.data[0].children,setTimeout((function(){t.initSelect(),uni.hideLoading()}),500);case 7:case"end":return e.stop()}}),e)})))()},initSelect:function(){this.updateSourceDate().updateAddressDate().$forceUpdate()},columnchange:function(t){this.updateSelectIndex(t.detail.column,t.detail.value).updateSourceDate().updateAddressDate().$forceUpdate()},updateSourceDate:function(){return this.array=[],this.array[0]=this.allAddress.map((function(t){return{name:t.name}})),console.log(this.allAddress[this.value[0]].children,"this.allAddress[this.value[0]].childre"),this.array[1]=this.allAddress[this.value[0]].children.map((function(t){return{name:t.name}})),this.array[2]=this.allAddress[this.value[0]].children[this.value[1]].children.map((function(t){return{name:t.name}})),this.array1=[],this.array1[0]=this.allAddress.map((function(t){return t.code})),this.array1[1]=this.allAddress[this.value[0]].children.map((function(t){return t.code})),this.array1[2]=this.allAddress[this.value[0]].children[this.value[1]].children.map((function(t){return t.code})),console.log(this.array1,"this.array1"),this},updateSelectIndex:function(t,e){var i=JSON.parse(JSON.stringify(this.value));return i[t]=e,0===t&&(i[1]=0,i[2]=0),1===t&&(i[2]=0),this.value=i,console.log(this.value,"this.value"),this},updateAddressDate:function(){return s[0]=this.array[0][this.value[0]].name,s[1]=this.array[1][this.value[1]].name,console.log(this.array[2][this.value[2]],"this.array[2][this.value[2]]"),this.array[2][this.value[2]]?s[2]=this.array[2][this.value[2]].name:s[2]="",this.array1[0]=this.array1[0][this.value[0]],this.array1[1]=this.array1[1][this.value[1]],this.array1[2][this.value[2]]&&(this.array1[2]=this.array1[2][this.value[2]]),this},bindPickerChange:function(t){return this.$emit("change",{index:this.value,data:s,id:this.array1}),this}}};e.default=r},"2b20":function(t,e,i){"use strict";i.r(e);var a=i("6512"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},"2d50":function(t,e,i){var a=i("ffcb");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("2a8ff148",a,!0,{sourceMap:!1,shadowMode:!1})},"3f8b":function(t,e,i){"use strict";var a;i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-picker",{attrs:{range:t.array,"range-key":"name",value:t.value,mode:"multiSelector"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindPickerChange.apply(void 0,arguments)},columnchange:function(e){arguments[0]=e=t.$handleEvent(e),t.columnchange.apply(void 0,arguments)}}},[t._t("default")],2)},s=[]},6512:function(t,e,i){"use strict";var a=i("4ea4");i("4de4"),i("d81d"),i("fb6a"),i("ac1f"),i("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("5530"));i("96cf");var s=a(i("1da1")),r=i("26cb"),c={data:function(){return{tip:["先生","女士"],currentIndex:0,region:[],defaultRegionCode:"520523",name:"",mobile:"",province:"",provinceName:"",city:"",cityName:"",area:"",areaName:"",town:"",townName:"",detail:"",isDefault:"",sex:"",id:"",regionName:"",isAuto:"",provinceList:[],index:""}},methods:{tipClick:function(t){this.currentIndex=t},btnClick:function(){var t=this;return(0,s.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=t.name){e.next=2;break}return e.abrupt("return",t.$t("姓名不能为空"));case 2:return e.next=4,t.$http.shippingAddressSaveOrUpdate({name:t.name+t.tip[t.currentIndex],mobile:t.mobile,province:t.province,provinceName:t.provinceName,city:t.city,cityName:t.cityName,area:t.area,areaName:t.areaName,town:t.town,townName:t.townName,detail:t.detail,isDefault:t.isDefault,id:t.id});case 4:e.sent,uni.showLoading(),setTimeout((function(){uni.hideLoading(),t.$t("修改地址成功！")}),1e3),setTimeout((function(){uni.navigateBack()}),1500);case 8:case"end":return e.stop()}}),e)})))()},switchChange:function(t){this.isDefault=t.detail.value?0:1,console.log(this.isDefault)},handleGetRegion:function(t){this.region=t,console.log(t),this.province=t[0].code,this.provinceName=t[0].name,this.city=t[1].code,this.cityName=t[1].name,this.area=t[2].code,this.areaName=t[2].name},setregionName:function(){this.regionName=this.region.map((function(t){return t.name})).join(" ")},getProvinceList:function(){var t=this;return(0,s.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.mldProvinceList();case 2:i=e.sent,t.provinceList=i.data,uni.hideLoading();case 5:case"end":return e.stop()}}),e)})))()},bindPickerChange:function(t){var e=this;t.target.value!=this.index&&(console.log(1111111),this.city="",this.cityName="",this.area="",this.areaName="",this.town="",this.townName="",console.log("picker发送选择改变，携带值为",t.target.value),this.index=t.target.value,this.province=this.provinceList[t.target.value].code,this.provinceName=this.provinceList[t.target.value].name,uni.setStorageSync("provinceId",this.provinceList[t.target.value].id),uni.showLoading(),setTimeout((function(){e.$refs.pickerAddr.getArea(),uni.hideLoading()}),500))},change:function(t){console.log(t,"data"),this.city=t.id[0],this.cityName=t.data[0],this.area=t.id[1],this.areaName=t.data[1],this.town=""==t.data[2]?"":t.id[2],this.townName=t.data[2]}},watch:{region:function(){this.setregionName()}},computed:(0,n.default)({},(0,r.mapState)(["address"])),onShow:function(){var t=this;console.log(this.address),"先生"==this.address.name.slice(-2)?this.name=this.address.name.split("先生")[0]:this.name=this.address.name.split("女士")[0],this.currentIndex="先生"==this.address.name.slice(-2)?0:1,this.defaultRegionCode=this.address.area,this.isDefault=0==this.address.isDefault?0:1,this.detail=this.address.detail,this.mobile=this.address.mobile,this.regionName=this.address.provinceName+this.address.cityName+this.address.areaName,this.province=this.address.province,this.provinceName=this.address.provinceName,this.city=this.address.city,this.cityName=this.address.cityName,this.areaName=this.address.areaName,this.area=this.address.area,this.townName=this.address.townName,this.town=this.address.town,setTimeout((function(){var e=t.provinceList.filter((function(e){return e.name==t.address.provinceName}));console.log(e,"currenProvice"),uni.setStorageSync("provinceId",e[0].id),t.$refs.pickerAddr.getArea()}),500)},onLoad:function(t){uni.showLoading(),this.id=t.id,this.isAuto=!0,this.getProvinceList()}};e.default=c},"88ef":function(t,e,i){"use strict";var a=i("2d50"),n=i.n(a);n.a},"97d0":function(t,e,i){"use strict";i.r(e);var a=i("07a6"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,(function(){return a[t]}))}(s);e["default"]=n.a},bfb5:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return a}));var a={pickerAddr:i("c653").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"c-list",staticStyle:{height:"170rpx"}},[i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"l-left"},[t._v("联系人")]),i("v-uni-view",{staticClass:"l-right"},[i("v-uni-input",{attrs:{type:"text",placeholder:"姓名","placeholder-style":"color:#999;"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1)],1),i("v-uni-view",{staticClass:"tip"},t._l(t.tip,(function(e,a){return i("v-uni-view",{key:a,staticClass:"tip-item",class:t.currentIndex===a?"cur":"",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tipClick(a)}}},[t._v(t._s(e))])})),1)],1),i("v-uni-view",{staticClass:"c-list"},[i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"l-left"},[t._v("手机号码")]),i("v-uni-view",{staticClass:"l-right"},[i("v-uni-input",{attrs:{type:"number",maxlength:"11",placeholder:"填写手机号码","placeholder-style":"color:#999;"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1)],1)],1),i("v-uni-view",{staticClass:"c-list"},[i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"l-left"},[t._v("省")]),i("v-uni-view",{staticClass:"l-right",staticStyle:{color:"#999"}},[i("v-uni-picker",{attrs:{value:t.index,range:t.provinceList,"range-key":"name"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.bindPickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input",staticStyle:{color:"#333"}},[t._v(t._s(t.provinceName))])],1),i("v-uni-image",{attrs:{src:"/static/images/profile/right.png",mode:""}})],1)],1)],1),i("v-uni-view",{staticClass:"c-list"},[i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"l-left"},[t._v("市区镇")]),i("v-uni-view",{staticClass:"l-right",staticStyle:{color:"#999"}},[i("pickerAddr",{ref:"pickerAddr",on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"uni-input",staticStyle:{color:"#333"}},[t._v(t._s(t.cityName?t.cityName+t.areaName+t.townName:"请选择"))])],1),i("v-uni-image",{attrs:{src:"/static/images/profile/right.png",mode:""}})],1)],1)],1),i("v-uni-view",{staticClass:"c-list-active"},[i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"l-left"},[t._v("详细地址")]),i("v-uni-view",{staticClass:"uni-textarea"},[i("v-uni-textarea",{attrs:{placeholder:"填写详细地址","placeholder-style":"color:#999;"},model:{value:t.detail,callback:function(e){t.detail=e},expression:"detail"}})],1)],1)],1),i("v-uni-view",{staticClass:"c-list"},[i("v-uni-view",{staticClass:"list"},[i("v-uni-view",{staticClass:"l-left",staticStyle:{width:"300rpx"}},[t._v("设为默认地址")]),i("v-uni-view",{staticClass:"l-right",staticStyle:{color:"#999","margin-left":"300rpx"}},[i("v-uni-switch",{staticStyle:{transform:"scale(.8)"},attrs:{checked:!t.isDefault,color:"#12B770"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.switchChange.apply(void 0,arguments)}}})],1)],1)],1),i("v-uni-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.btnClick.apply(void 0,arguments)}}},[t._v("保存")])],1)},s=[]},c653:function(t,e,i){"use strict";i.r(e);var a=i("3f8b"),n=i("97d0");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);var r,c=i("f0c5"),l=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"59b42001",null,!1,a["a"],r);e["default"]=l.exports},e513:function(t,e,i){"use strict";i.r(e);var a=i("bfb5"),n=i("2b20");for(var s in n)"default"!==s&&function(t){i.d(e,t,(function(){return n[t]}))}(s);i("88ef");var r,c=i("f0c5"),l=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"fec85bdc",null,!1,a["a"],r);e["default"]=l.exports},ffcb:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".uni-input[data-v-fec85bdc]{width:%?470?%}.content[data-v-fec85bdc]{padding:0 %?30?%}.content .c-list-active .list[data-v-fec85bdc]{display:flex;justify-content:space-between;align-items:center;padding:%?16?% 0;border-bottom:1px solid #eeedef\n  /* textarea */}.content .c-list-active .list .l-left[data-v-fec85bdc]{width:%?144?%}.content .c-list-active .list .uni-textarea[data-v-fec85bdc]{display:flex;align-items:center;flex:1;background:#fff;margin-left:%?40?%}.content .c-list-active .list .uni-textarea uni-textarea[data-v-fec85bdc]{width:100%;height:%?88?%}.content .c-list[data-v-fec85bdc]{position:relative;width:100%;height:%?110?%;border-bottom:1px solid #eeedef}.content .c-list .list[data-v-fec85bdc]{display:flex;justify-content:space-between;align-items:center;min-height:%?110?%}.content .c-list .list .l-left[data-v-fec85bdc]{width:%?144?%}.content .c-list .list .l-right[data-v-fec85bdc]{flex:1;margin-left:%?40?%;display:flex;justify-content:space-between;align-items:center}.content .c-list .list .l-right .regions-right[data-v-fec85bdc]{display:flex;align-items:center;width:%?500?%;min-height:%?110?%}.content .c-list .list .l-right uni-image[data-v-fec85bdc]{width:%?14?%;height:%?20?%;margin-right:%?26?%}.content .c-list .tip[data-v-fec85bdc]{position:absolute;left:%?188?%;bottom:%?14?%;display:flex}.content .c-list .tip .tip-item[data-v-fec85bdc]{width:%?130?%;height:%?54?%;line-height:%?54?%;text-align:center;background:#f5f5f5;border-radius:6px;margin-right:%?20?%;border:1px solid transparent}.content .c-list .tip .cur[data-v-fec85bdc]{background-color:#d0f2e4;border:1px solid #12b770;border-radius:6px;color:#12b770}.content .btn[data-v-fec85bdc]{width:%?650?%;height:%?88?%;background:#12b770;opacity:1;border-radius:44px;font-size:%?34?%;margin-top:%?178?%}",""]),t.exports=e}}]);